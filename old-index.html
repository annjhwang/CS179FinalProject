<!DOCTYPE html>
<html>
<head>
    <title>CheckIn</title>
    <!--update view based on the device-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--get jquery mobile libraries and css-->
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>    

    <script src='https://api.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.css' rel='stylesheet' />

</head>
<body>


<div data-role="page" id="welcome" class="pages">
    <div data-role="header" style="background-color:#008AE2">
        <img src="pics/CheckIn.png" style="max-width: 40%">
     </div>
        <div data-role="content" >
        <!--<div id="map"></div>-->
            <h3 id="welcometext"> Welcome to CheckIn!</h3>
            
            <img src="pics/groupicon1.png" alt="group"id="checkinicon" style="width:80%; margin-top:30px; margin-bottom:30px;">
            <a href="#add-friends" class="ui-btn">Make A Group</a>
        </div>
</div>

<div data-role="page" id="add-friends" class="pages">
    <div data-role="header" style="background-color:#008AE2">
        <img src="pics/CheckIn.png" style="max-width: 40%">
     </div>

     <h4 style="text-align:center"><b>Add Friends</b></h4>
    <div data-role="content" >

        <ul data-role="listview" data-filter="true" data-filter-placeholder="Search friends" data-inset="true">
            <li data-icon="plus" id="btnFree"><a href="#">Alice</a></li>
            <li data-icon="plus"><a href="#">Arman</a></li>
            <li data-icon="plus"><a href="#">Gabe</a></li>
            <li data-icon="plus"><a href="#">Annie</a></li>
            <li data-icon="plus"><a href="#">Tallulah</a></li>
            <li data-icon="plus"><a href="#">Larry</a></li>
        </ul>

        <a href="#set-details" class="ui-btn">Add end time and location</a>

    </div>
</div>

<div data-role="page" id="set-details" class="pages">
   <div data-role="header" style="background-color:#008AE2">
        <img src="pics/CheckIn.png" style="max-width: 40%">
     </div>


    <div data-role="content" >

        <h3>Enter Your Ending Time</h3>
        <form>
            <input type="time" data-clear-btn="false" name="time-2" id="time-2" value="02:30">
        </form>
      
        <h3>Enter Your Event Location</h3>
        <form>
            <input type="search" name="search=1" id="search-1" value="">
        </form>

        <a href="#map-page" data-role="button">Create group</a>

    </div>


</div>

<div data-role="page" id="list" class="pages">
    <div data-role="header" style="background-color:#008AE2">    
        <img src="pics/CheckIn.png" style="max-width: 40%">
        <a href="#" data-rel="back" data-icon="ui-btn-icon-left ui-icon-back">Back</a>
    </div>


     <ul data-role="listview" id="my-listview">
        <li>
            <a href="armanchat.html">Arman Hassan
                <img src="pics/arman.png" style="width:56px"/>
            </a>
        </li>
        <li>
            <a href="gabechat.html">Gabe Martinez
                <img src="pics/gabe.png" style="width:56px"/>
            </a>
        </li>
        <li>
            <a href="alicechat.html">Alice Xiao
                <img src="pics/alice.png" style="width:56px"/>
            </a>
        </li>
         <li>
            <a href="alicechat.html">Annie Hwang
                <img src="pics/annie.png" style="width:56px"/>
            </a>
        </li>
        <li> 
            <a href="armanchat.html">Zeerak Ahmed
                <img src="pics/zeerakcircle.png" style="width:56px"/>
            </a>
        </li>
    </ul>


        <div class="btn-group" style="width:100%">
            <button style="width:33.3% ; background-color: green; text-align: center; margin: auto; position:relative; margin-top:50%">
                <a href="#popupCloseRight" data-rel="popup" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-position-to="window" data-transition="flip" style="color: white; background-color: green; text-align: center; margin: auto">
                        I'm Good
                </a>
            </button>
                <div data-role="popup" id="popupCloseRight" class="ui-content" style="max-width:280px">
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right">
                        Close
                    </a>
                    <p>
                        You have notified your group that all is well!
                    </p>
                </div>

            <button style="width:33.3%; background-color: #f98704; text-align: center; margin: auto; position:relative; margin-top:50%;">
                <a href="#popupCloseRight" data-rel="popup" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-position-to="window" data-transition="flip" style="color: white; background-color: #f98704; text-align: center; margin: auto; font-size:8px; padding: 12px">
                        Request CheckIn
                </a>
            </button>
                <div data-role="popup" id="popupCloseRight" class="ui-content" style="max-width:280px">
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right">
                        Close
                    </a>
                    <p>
                        A CheckIn request has been sent to all members of your group.
                    </p>
                </div>

            <a href="CheckOut.html">
                <button style="width:33.3%; background-color: #4286f4; text-align: center; margin: auto; position:relative; margin-top:50%; padding: 38px; font-size: 7px; color: white">
                        CheckOut
                </button>
            </a>
        </div>
    </div>
</div>


<div data-role="page" class="pages" id="map-page" data-url="map-page">
    <div data-role="header" style="background-color:#008AE2" data-position="inline">
        <img src="pics/CheckIn.png" style="max-width: 40%">
        <a href="#list" data-role="button" class="ui-btn-right"> <img src="pics/groupicon1.png" alt="group" style="width:25px; margin-top:10px"></a>
    </div><!-- /header -->
    
    <div data-role="navbar">
        <ul>
            <li><a href="#map-page" class="ui-btn-active ui-state-persist">Map</a></li>
            <li><a href="#chat">Chat</a></li>
        </ul>
    </div>

    <!--<a class="ui-btn ui-btn-inline" id="sos" style="float: left;" href="#sospage">SOS</a>-->
    <div data-role="content" >
        <div id='map'></div>
    
        <button id='fly-me'>My Location</button>
        <button id='fly-arman'>Arman</button>
        <button id='fly-annie'>Annie</button>
        <button id='fly-alice'>Alice</button>

        <div data-role="controlgroup" data-type="horizontal" id="meetupOptions">
        <a href="#droppin" data-role="button">Drop Pin</a>
        <a href="#smartmeetup" data-role="button">Smart Meet Up</a>
        </div>

    </div>
</div>



<div data-role="page" id="chat">
    <div data-role="header" style="background-color:#008AE2">
        <img src="pics/CheckIn.png" style="max-width: 40%">
        <a href="#list" data-role="button" class="ui-btn-right"> <img src="pics/groupicon1.png" style="width:25px; margin-top:10px"></a>
    </div>
    <div data-role="navbar">
        <ul>
            <li><a href="#map-page">Map</a></li>
            <li><a href="#chat" class="ui-btn-active ui-state-persist">Chat</a></li>
        </ul>
    </div>
    <div data-role="content">
        <div class="messageArman">
            <a href="alicechat.html">  <img src="pics/alice.png" alt="alice" style="float:left;width:33px"> </a>
            <span class='username'> <b>Alice: </b> </span> Has anyone seen Annie? 
        </div>

        <div class='messageUpdate'>
            Gabe checked in at 6:42PM.
        </div>
        


        <div class="messageArman">
            <a href="gabechat.html">  <img src="pics/gabe.png" alt="gabe" style="float:left;width:33px"> </a>
            <span class='username'> <b>Gabe: </b> </span> No, let's ask her to CheckIn. 
        </div>

        <div class='messageUpdate'>
            Alice checked in at 6:59PM.
        </div>
        <div class="messageAnnie">
            <a href="armanchat.html"> <img src="pics/arman.png" alt="arman" style="float:right;width:33px"></a>
            <span class='username'> <b>Arman:</b> </span>  Ok, I'll ask her
        </div>
        
    </div>
    <img src="pics/keyboard.png" style="margin:auto; float:left; vertical-align: center; width:99%" alt="keyboard"> 
</div>



<div data-role="page" class="pages" id="sospage" data-url="sos-page">
    <div data-role="header">
    <a href="#" data-rel="back" data-icon="ui-btn-icon-left ui-icon-back">Back</a>
        <h1>SOS</h1>
    </div>
     <ul>
        <button class="w3-green"><a href="#popupCloseLeft" data-rel="popup" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-position-to="window" data-transition="flip" style="border: none; box-shadow: none; color: white">Can someone find me?</a></button>
        	<div data-role="popup" id="popupCloseLeft" class="ui-content" style="max-width:280px">
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-left">Close</a>
                    <p>Message Sent!</p>
            </div>
        <button class="w3-amber"><a href="#popupCloseLeft" data-rel="popup" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-position-to="window" data-transition="flip" style="border: none; box-shadow: none;">Hey Guys, I need help</a></button>
        	<div data-role="popup" id="popupCloseLeft" class="ui-content" style="max-width:280px">
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-left">Close</a>
                    <p>We've notified your friends!</p>
            </div>
        <button class="w3-red"><a href="#popupCloseLeft" data-rel="popup" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-position-to="window" data-transition="flip" style="border: none; box-shadow: none; color: white">Call 911+ <br> Send Location</a></button>
        	<div data-role="popup" id="popupCloseLeft" class="ui-content" style="max-width:280px">
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-left">Close</a>
                    <p>Calling 911, Location Sent to Friends.</p>
            </div>
        <button class="w3-blue"><a href="#popupCloseLeft" data-rel="popup" class="ui-btn ui-corner-all ui-shadow ui-btn-inline" data-position-to="window" data-transition="flip" style="border: none; box-shadow: none; color: white"><span style="font-family:'Segoe UI Symbol';color:white;font-size:40px;">&#x1f514;</span> Alarm</button>
            <div data-role="popup" id="popupCloseLeft" class="ui-content" style="max-width:280px">
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-left">Close</a>
                    <p>ALARM SOUND</p>
            </div>
    <ul>
</div>

<script>
    function initMap() {
        var myLatLng = {lat: 42.374546, lng: -71.118673};

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: myLatLng
        });

        /*
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: 'Hello World!'
        });
        */

        //add locations
             var locations = [
                 ['Gabe', 42.369607, -71.116871,'pics/gabe.png','gabechat.html'],
                 ['Arman', 42.378716, -71.116919,'pics/arman.png','armanchat.html'],
                 ['Alice', 42.374848, -71.122498,'pics/alice.png','alicechat.html'],
                 ['Annie', 42.374636, -71.116550,'pics/annie.png','anniechat.html']
             ];
             //declare marker call it 'i'
             var marker, i;
             //declare infowindow
             var infowindow = new google.maps.InfoWindow();
             //add marker to each locations
             for (i = 0; i < locations.length; i++) {
                 marker = new google.maps.Marker({
                     position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                     map: map,
                     icon: {
                         "url": locations[i][3],
                         "scaledSize": new google.maps.Size(35,35)
                     },
                     url: locations[i][4]

                });
            //click function to marker, pops up infowindow
             google.maps.event.addListener(marker, 'click', (function(marker, i) {
                 return function() {
                     infowindow.setContent(locations[i][0]);
                     infowindow.open(map, marker);
                     window.location.href = this.url;
                 }
             })(marker, i));

             }

             
      


      }
</script>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCDqVROzmpbhvxjKbFb8VBvfuUqZaD57gU&callback=initMap">
    </script>


</body>
</html>
